define(["jquery","jqueryui"],function(e,r){e("#editprofile .form-horizontal #btn-save-changes").click(function(){e("div#error-message").show(),e("div#error-message").removeClass("alert-danger").addClass("alert-success"),e("div#error-message p").html("Saving...");var r=e("#first_name").val(),s=e("#surname").val(),a=e("#standard_email").val(),t=e.trim(e("#description").val()),i=e.trim(e("#city").val()),o=e("#editprofile .form-horizontal #country option:selected").val();if(""===r)return e("div#error-message").show(),e("div#error-message").removeClass("alert-success").addClass("alert-danger"),e("div#error-message p").html(M.util.get_string("enterfirstname","theme_emphasize")),e("#first_name").focus(),!1;if(""===s)return e("div#error-message").show(),e("div#error-message").removeClass("alert-success").addClass("alert-danger"),e("div#error-message p").html(M.util.get_string("enterlastname","theme_emphasize")),e("#surname").focus(),!1;if(""===a)return e("div#error-message").show(),e("div#error-message").removeClass("alert-success").addClass("alert-danger"),e("div#error-message p").html(M.util.get_string("enteremailid","theme_emphasize")),e("#standard_email").focus(),!1;var m=/^[\w\-\.\+]+\@[a-zA-Z0-9\.\-]+\.[a-zA-Z0-9]{2,4}$/;return m.test(a)?(a=encodeURIComponent(a),void e.ajax({type:"GET",async:!0,url:M.cfg.wwwroot+"/theme/emphasize/request_handler.php?action=save_user_profile_settings&fname="+r+"&lname="+s+"&emailid="+a+"&description="+t+"&city="+i+"&country="+o,success:function(a){e("div#error-message").show(),e("div#error-message").removeClass("alert-danger").addClass("alert-success"),e("div#error-message p").html(M.util.get_string("detailssavedsuccessfully","theme_emphasize")),e(".profile-user").text(r+" "+s),e(".usermenu a.navbar-avatar span.username").text(r+" "+s),e("#user-description").text(t)},error:function(r,s,a){e("div#error-message").removeClass("alert-success").addClass("alert-danger"),e("div#error-message p").html(s+" : "+a+", "+M.util.get_string("actioncouldnotbeperformed","theme_emphasize"))}})):(e("div#error-message").show(),e("div#error-message").removeClass("alert-success").addClass("alert-danger"),e("div#error-message p").html(M.util.get_string("enterproperemailid","theme_emphasize")),e("#inputEmail").focus(),!1)}),require(["theme_emphasize/jquery-asPieProgress"],function(e){jQuery(".remui-course-progress").asPieProgress({namespace:"asPieProgress"})})});